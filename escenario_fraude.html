<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Escenario 3: L√≥gica de Seguridad</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <style>
      /* Reutilizamos estilos base */
      @import url("https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Share+Tech+Mono&display=swap");
      body {
        background: #e2e8f0;
        font-family: "Roboto", sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        padding: 20px;
      }
      .container {
        display: grid;
        grid-template-columns: 280px 350px 280px 220px;
        gap: 20px;
        background: #fff;
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      }
      .panel {
        border-radius: 8px;
        padding: 15px;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      .panel-title {
        font-weight: bold;
        text-align: center;
        margin-bottom: 10px;
        text-transform: uppercase;
        font-size: 14px;
      }

      .p-asis {
        background: #fff7ed;
        border: 2px solid #ea580c;
      }
      .p-asis .panel-title {
        color: #ea580c;
        border-bottom: 2px solid #ea580c;
      }
      .p-logic {
        background: #f5f3ff;
        border: 2px solid #7c3aed;
      }
      .p-logic .panel-title {
        color: #7c3aed;
        border-bottom: 2px solid #7c3aed;
      }
      .p-tobe {
        background: #fdf4ff;
        border: 2px solid #c026d3;
      }
      .p-tobe .panel-title {
        color: #c026d3;
        border-bottom: 2px solid #c026d3;
      }
      .p-legend {
        background: #f8fafc;
        border-left: 1px solid #cbd5e1;
        padding-left: 15px;
      }

      .gate {
        border: 2px solid #7c3aed;
        padding: 10px;
        border-radius: 8px;
        position: relative;
        background: white;
      }
      .gate-label {
        font-size: 10px;
        color: #7c3aed;
        font-weight: bold;
        text-align: center;
        margin-bottom: 5px;
      }
      .check-step {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 12px;
        margin-bottom: 5px;
        border-bottom: 1px dashed #ddd;
        padding-bottom: 5px;
      }

      .lock-status {
        text-align: center;
        font-weight: bold;
        margin-top: 10px;
      }
      .status-locked {
        color: #ea580c;
      }
      .status-secure {
        color: #7c3aed;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="panel p-asis">
        <div class="panel-title">1. Vulnerabilidad (AS-IS)</div>
        <div
          style="background: white; border: 1px solid #fdba74; padding: 10px"
        >
          <div style="font-size: 12px; color: #ea580c">Campo Precio:</div>
          <div
            style="
              font-family: monospace;
              font-size: 16px;
              border: 1px solid #ea580c;
              padding: 5px;
            "
          >
            [ Editable ]
          </div>
        </div>
        <div style="text-align: center; font-size: 20px">‚¨á</div>
        <div
          style="
            background: #ea580c;
            color: white;
            padding: 10px;
            text-align: center;
            border-radius: 5px;
          "
        >
          FRAUDE POSIBLE
        </div>
      </div>

      <div class="panel p-logic">
        <div class="panel-title">2. L√≥gica de Control (TI)</div>

        <div class="gate">
          <div class="gate-label">GATEKEEPER (Middleware)</div>

          <div class="check-step">
            <span>1. ¬øQui√©n es?</span>
            <span
              style="
                font-family: 'Share Tech Mono';
                background: #ddd;
                padding: 2px;
              "
              >User: VENDEDOR</span
            >
          </div>

          <div class="check-step">
            <span>2. ¬øTiene Permiso?</span>
            <span style="color: red; font-weight: bold">NO (Edit_Price)</span>
          </div>

          <div class="check-step" style="border: none">
            <span>3. Acci√≥n:</span>
            <span
              style="
                background: #7c3aed;
                color: white;
                padding: 2px 5px;
                border-radius: 3px;
              "
              >BLOQUEAR</span
            >
          </div>
        </div>

        <div style="text-align: center; font-size: 20px; color: #7c3aed">‚¨á</div>

        <div
          style="
            text-align: center;
            font-size: 12px;
            border: 1px solid #7c3aed;
            padding: 5px;
            border-radius: 5px;
            background: white;
          "
        >
          Set Attribute: <code>ReadOnly = True</code>
        </div>
      </div>

      <div class="panel p-tobe">
        <div class="panel-title">3. Seguridad (TO-BE)</div>
        <div
          style="background: white; border: 1px solid #f0abfc; padding: 10px"
        >
          <div style="font-size: 12px; color: #c026d3">Campo Precio:</div>
          <div
            style="
              background: #f3e8ff;
              color: #6b7280;
              padding: 5px;
              border: 1px solid #ccc;
              display: flex;
              justify-content: space-between;
            "
          >
            <span>S/. 80.00</span>
            <i class="fas fa-lock"></i>
          </div>
        </div>
        <div
          style="
            margin-top: auto;
            font-size: 11px;
            text-align: center;
            color: #c026d3;
          "
        >
          Resultado: Precio Inmutable
        </div>
      </div>

      <div class="p-legend">
        <div
          style="
            font-size: 12px;
            font-weight: bold;
            color: #64748b;
            margin-bottom: 10px;
          "
        >
          LEYENDA T√âCNICA
        </div>
        <div style="font-size: 11px; margin-bottom: 8px">
          üõ°Ô∏è <strong>Middleware:</strong> Software intermedio que filtra
          peticiones antes de ejecutarlas.
        </div>
        <div style="font-size: 11px; margin-bottom: 8px">
          üö´ <strong>ReadOnly:</strong> Propiedad de interfaz que impide
          escribir o borrar datos.
        </div>
        <div style="font-size: 11px; margin-bottom: 8px">
          üîë <strong>RBAC:</strong> (Role-Based Access Control) Seguridad que da
          permisos seg√∫n el cargo.
        </div>
        <div style="font-size: 11px">
          üë§ <strong>User Vendedor:</strong> Perfil con privilegios limitados
          (solo venta).
        </div>
      </div>
    </div>
  </body>
</html>
